import{e as G,j as e,s as R,L as q,_ as p,B as K,C as O,r as g,D as V,E as W,F as z}from"./index-BGOoP327.js";import{c as J}from"./index-DUXrVzM3.js";import{a as f}from"./index-DeYWllKm.js";import"./iconBase-DY2o13lj.js";const T=({productId:r,productPrice:l,productTitle:i,productRating:u,productThumbnail:c,productDescription:x,productStock:b,productQuantity:o})=>{const h=()=>{const s=[];for(let d=1;d<=5;d++)s.push(e.jsx(J,{className:d<=u?"text-yellow-500":"text-gray-300"},d));return s},n=G(),m=s=>{if(console.log("From add to cart",s),s.stock<1){p.error("Product is out of stock.");return}n(K(s)),p.success("Successfully added to cart")};return e.jsxs("div",{className:"max-w-[300px] h-fit m-2  bg-slate-100 border-slate-500 border-2 flex flex-col justify-between items-center rounded-3xl text-slate-900 dark:bg-slate-900 dark:text-slate-100 shadow-2xl transition-all transform hover:scale-105 hover:bg-slate-900 hover:text-slate-100 dark:hover:bg-slate-100 dark:hover:text-slate-900 group",children:[e.jsx("img",{src:c.startsWith("a")?`${R}/${c}`:c,alt:x,className:" h-[150px] rounded-full object-contain"}),e.jsxs("div",{className:"p-4 flex flex-col text-sm justify-center items-center",children:[e.jsx("h3",{className:"text-sm font-semibold",children:i}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs("p",{className:"bg-slate-900 px-2 py-1 text-slate-100 dark:bg-slate-100 dark:text-slate-900 rounded-full group-hover:bg-slate-100 group-hover:text-slate-900 dark:group-hover:bg-slate-900 dark:group-hover:text-slate-100 text-xs",children:["$",l]})}),e.jsx("div",{className:"flex mt-2",children:h()})]}),e.jsxs("div",{className:"w-full p-4 flex flex-col items-center",children:[e.jsx("button",{onClick:()=>m({productId:r,thumbnail:c,title:i,price:l,quantity:o,stock:b}),className:"w-fit bg-blue-500 text-white py-1 px-3 rounded-full mb-2 hover:bg-blue-600 text-xs transition",children:"Add to Cart"}),e.jsx(q,{to:`/product/${r}`,className:"w-fit text-center bg-blue-500 text-white py-1 px-3 rounded-full hover:bg-blue-600 text-xs transition",children:"View Product"})]})]})},U=()=>e.jsxs("div",{className:"max-w-[500px] h-fit m-2 bg-slate-100 border-slate-500 border-2 flex flex-col justify-between items-center rounded-3xl text-slate-900 dark:bg-slate-900 dark:text-slate-100 shadow-2xl transition-all transform hover:scale-105 animate-pulse",children:[e.jsx("div",{className:"h-[150px] w-[150px] bg-slate-300 dark:bg-slate-700 rounded-full"}),e.jsxs("div",{className:"p-4 flex flex-col text-sm justify-center items-center",children:[e.jsx("div",{className:"h-4 w-3/4 bg-slate-700 dark:bg-slate-400 rounded mb-2"}),e.jsx("div",{className:"h-4 w-1/2 bg-slate-700 dark:bg-slate-400 rounded mb-2"}),e.jsx("div",{className:"flex mt-2 space-x-1",children:new Array(5).fill(null).map((r,l)=>e.jsx("div",{className:"h-4 w-4 bg-slate-700 dark:bg-slate-400 rounded-full"},l))})]}),e.jsxs("div",{className:"w-full p-4 flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"h-8 w-3/4 bg-slate-700 dark:bg-slate-400 rounded-full"}),e.jsx("div",{className:"h-8 w-3/4 bg-slate-700 dark:bg-slate-400 rounded-full"})]})]}),ee=()=>{const[r]=O(),[l,i]=g.useState(r.get("keyword")||""),[u,c]=g.useState(""),[x,b]=g.useState(1e4),[o,h]=g.useState(1),[n,m]=g.useState(r.get("category")||""),[s,d]=g.useState(""),{data:j,isLoading:C,isError:S,error:P}=V({selectedBrand:s}),{data:v,isLoading:E,isError:L,error:H}=W({selectedCategory:n});S&&p.error(P.data.message),L&&p.error(H.data.message);const{isLoading:N,data:a,isError:$,error:B}=z({search:l,sort:u,category:n,brand:s,page:o,price:x});g.useEffect(()=>{i(r.get("keyword")||""),m(r.get("category")||"")},[r]),$&&p.error(B.data.message);const F=t=>{c(t.target.value)},A=t=>{b(Number(t.target.value))},_=t=>{m(t.target.value),n&&d("")},Q=t=>{d(t.target.value),s&&m("")},D=t=>{i(t.target.value)},M=()=>{i(""),b(1e5),h(1),d(""),m(""),c("")},y=o>1,k=o<((a==null?void 0:a.totalPage)??1),w=a==null?void 0:a.totalPage;return e.jsx("div",{className:"pt-20 w-full bg-slate-100 dark:bg-slate-900",children:e.jsxs("div",{className:"flex relative flex-col w-full lg:flex-row container",children:[e.jsxs("div",{className:"flex flex-wrap flex-row lg:flex-col lg:w-[25%] w-full justify-center items-start p-4 gap-4 border border-slate-100 text-slate-100 bg-slate-900 rounded-xl dark:border-slate-100 dark:bg-slate-100 dark:text-slate-900 h-fit",children:[e.jsx("p",{className:"text-lg font-mono",children:"Filters"}),e.jsxs("div",{className:"text-sm text-slate-900",children:[e.jsx("p",{className:"font-bold text-slate-100 dark:text-slate-900",children:"Sort by :-"}),e.jsxs("select",{value:u,onChange:F,className:"xl:mt-2 rounded-full focus:outline-none xl:py-1 xl:px-2 dark:border-2 text-xs dark:border-slate-900",children:[e.jsx("option",{value:"",children:"None"}),e.jsx("option",{value:"asc",children:"Price - (Low to High)"}),e.jsx("option",{value:"dsc",children:"Price - (High to Low)"})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-bold",children:["Max Price :- ",` $${x}`]}),e.jsx("input",{type:"range",min:1,max:1e4,value:x,className:"text-xs",onChange:A})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold",children:"Categories :-"}),e.jsxs("select",{value:n,onChange:_,className:"mt-2 rounded-full focus:outline-none py-1 px-2 text-slate-900 dark:border-2 text-xs dark:border-slate-900",children:[e.jsx("option",{value:"",children:"All"}),!C&&(j==null?void 0:j.categories.map(t=>e.jsx("option",{value:t,children:t},t)))]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold",children:"Brands :-"}),e.jsxs("select",{value:s,onChange:Q,className:"mt-2 rounded-full focus:outline-none py-1 px-2 w-[170px] text-slate-900 dark:border-2 text-xs dark:border-slate-900",children:[e.jsx("option",{value:"",children:"All"}),!E&&(v==null?void 0:v.brands.map(t=>e.jsx("option",{value:t,children:t},t)))]})]})]}),e.jsxs("div",{className:"w-full flex flex-col gap-4",children:[e.jsx("p",{className:"text-lg text-center font-serif underline",children:"Products"}),e.jsxs("div",{className:"flex flex-col gap-4 text-sm justify-center items-center w-full",children:[e.jsx("input",{type:"text",value:l,onChange:D,placeholder:"Search",className:"px-4 w-[60%] rounded-xl py-1 focus:outline-none bg-slate-900 text-slate-100 dark:bg-slate-100 dark:text-slate-900"}),w&&w>1&&e.jsxs("div",{className:"flex justify-between items-center w-[80%]",children:[e.jsx("button",{disabled:!y,onClick:()=>h(t=>t-1),className:`${y?"":"bg-slate-500"} bg-slate-900 dark:bg-slate-100 px-4 text-slate-100 dark:text-slate-900 hover:scale-110 text-xs py-1 rounded-full`,children:"Prev"}),e.jsxs("span",{className:"text-xs font-mono",children:[o," of ",a==null?void 0:a.totalPage]}),e.jsx("button",{disabled:!k,onClick:()=>h(t=>t+1),className:`${k?"":"bg-slate-500"} bg-slate-900 hover:bg-slate-600 hover:text-slate-100 dark:bg-slate-100 px-4 text-slate-100 dark:text-slate-900 hover:scale-110 text-xs py-1 rounded-full`,children:"Next"})]}),e.jsxs("div",{className:" flex justify-center items-center text-xs flex-wrap gap-2",children:[l&&e.jsxs("div",{className:"font-mono  gap-2 rounded-xl px-3  py-1 flex justify-center items-center  border-slate-500 border text-slate-500 hover:bg-slate-600 hover:text-slate-100 order",children:[e.jsxs("div",{children:[" Keyword : ",l]}),"  ",e.jsx("button",{className:"text-xs",onClick:()=>i(""),children:e.jsx(f,{})})]}),u&&e.jsxs("div",{className:"font-mono flex justify-center items-center gap-2 rounded-xl px-3  py-1  border-slate-500  text-slate-500 hover:bg-slate-600 hover:text-slate-100 border",children:[e.jsxs("div",{children:[" Order : ",u]}),"  ",e.jsx("button",{className:"text-xs",onClick:()=>c(""),children:e.jsx(f,{})})]}),n&&e.jsxs("div",{className:"font-mono flex justify-center items-center gap-2 rounded-xl px-3  py-1 border-slate-500  text-slate-500 hover:bg-slate-600 hover:text-slate-100 border",children:[e.jsxs("div",{children:[" Category : ",n]})," ",e.jsx("button",{className:"text-xs",onClick:()=>m(""),children:e.jsx(f,{})})]}),s&&e.jsxs("div",{className:"font-mono flex justify-center items-center gap-2 rounded-xl px-3  py-1 border-slate-500 border text-slate-500 hover:bg-slate-600 hover:text-slate-100 ",children:[e.jsxs("div",{children:[" Brand : ",s]})," ",e.jsx("button",{className:"text-xs",onClick:()=>d(""),children:e.jsx(f,{})})]}),o&&e.jsxs("div",{className:"font-mono flex justify-center items-center gap-2 rounded-xl px-3  py-1 border-slate-500 border text-slate-500 hover:bg-slate-600 hover:text-slate-100 ",children:[e.jsxs("div",{children:[" Page : ",o]})," ",e.jsx("button",{className:"text-xs",onClick:()=>h(1),children:e.jsx(f,{})})]}),x&&e.jsxs("div",{className:"font-mono flex justify-center items-center gap-2 rounded-xl px-3  py-1 border  text-slate-500 border-slate-500 hover:bg-slate-600 hover:text-slate-100 ",children:[e.jsx("div",{children:" Less than :"})," ",x," ",e.jsx("button",{className:"text-xs",onClick:()=>b(1e5),children:e.jsx(f,{})})]}),(x||o||s||n||u||l)&&e.jsx("button",{onClick:M,className:"gap-2 rounded-xl px-3  py-1 border  text-slate-500 border-slate-500 cursor-pointer hover:bg-slate-600 hover:text-slate-100",children:"Clear All"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 h-screen overflow-y-scroll ",children:[!N&&(a==null?void 0:a.products.map(t=>e.jsx(T,{productId:t._id,productTitle:t.title,productPrice:t.price,productRating:Math.round(t.rating),productThumbnail:t.thumbnail,productDescription:t.description,productQuantity:1,productStock:t.stock},t._id))),N&&[1,2,3,4,5,6,7,8].map(t=>e.jsx(U,{},t))]})]})]})]})})};export{ee as default};
