import{u as j,r as o,W as f,j as e,_ as d}from"./index-BGOoP327.js";const N=()=>{const c=j(),[m,i]=o.useState({email:"",username:"",password:"",gender:"",dob:"",image:null}),[x,p]=o.useState(null),[g]=f(),a=n=>{const{name:t,value:s,files:r}=n.target;if(t==="image"&&r&&r[0]){const l=r[0];p(URL.createObjectURL(l)),i(h=>({...h,image:l}))}else i(l=>({...l,[t]:s}))},u=async n=>{n.preventDefault();const t=new FormData;Object.entries(m).forEach(([s,r])=>{t.append(s,r)});try{console.log(t);const s=await g(t).unwrap();s.success?(d.success(s.message),c("/login")):d.error(s.message)}catch(s){console.error(s),d.error("Registration failed. Please check your details format or try again.")}};return e.jsx("div",{className:"container",children:e.jsxs("div",{className:"lg:w-[35%] sm:w-[70%] w-[90%] bg-slate-900 dark:bg-slate-100 text-slate-100 dark:text-slate-900 rounded-3xl shadow-xl mx-auto mt-8",children:[e.jsxs("div",{className:"text-center pt-10",children:[e.jsx("p",{className:"text-xl font-bold",children:"MKShop Registration Form"}),e.jsx("p",{className:"font-thin text-xs pt-2",children:"Please fill the following form with your correct information."})]}),e.jsx("div",{className:"border-b border-gray-400 mt-2"}),e.jsx("div",{className:"mt-2 w-[80%] rounded-xl mx-auto",children:e.jsxs("form",{className:"w-full h-full",onSubmit:u,children:[e.jsxs("div",{className:"flex flex-col m-4 items-start gap-2",children:[e.jsxs("label",{htmlFor:"email",className:"text-xs",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{autoComplete:"on",onChange:a,type:"email",required:!0,name:"email",id:"email",placeholder:"Enter your email.",className:"text-xs bg-gray-200 rounded-lg px-2 py-1 border border-gray-500 w-[80%] text-slate-900 dark:bg-slate-900 dark:text-slate-100"})]}),e.jsxs("div",{className:"flex flex-col m-4 items-start gap-2",children:[e.jsxs("label",{htmlFor:"username",className:"text-xs",children:["Username ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{autoComplete:"on",onChange:a,type:"text",required:!0,name:"username",id:"username",placeholder:"Enter your username.",className:"text-xs bg-gray-200 rounded-lg px-2 py-1 border border-gray-500 w-[80%] text-slate-900 dark:bg-slate-900 dark:text-slate-100"})]}),e.jsxs("div",{className:"flex flex-col m-4 items-start gap-2",children:[e.jsxs("label",{htmlFor:"password",className:"text-xs",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{onChange:a,autoComplete:"current-password",type:"password",required:!0,name:"password",id:"password",placeholder:"Enter your password.",className:"text-xs bg-gray-200 rounded-lg px-2 py-1 border border-gray-500 w-[80%] text-slate-900 dark:bg-slate-900 dark:text-slate-100"})]}),e.jsxs("div",{className:"flex flex-col items-start m-4 gap-2",children:[e.jsxs("label",{htmlFor:"gender",className:"text-xs",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{onChange:a,type:"radio",name:"gender",value:"male"}),e.jsx("p",{className:"text-xs",children:"Male"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{onChange:a,type:"radio",name:"gender",value:"female"}),e.jsx("p",{className:"text-xs",children:"Female"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{onChange:a,type:"radio",name:"gender",value:"others"}),e.jsx("p",{className:"text-xs",children:"Others"})]})]})]}),e.jsxs("div",{className:"flex flex-col m-4 items-start gap-2",children:[e.jsxs("label",{htmlFor:"image",className:"text-xs",children:["Image ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{onChange:a,type:"file",required:!0,name:"image",id:"image",className:"w-[80%] text-xs accent-slate-900 dark:accent-slate-100"}),x&&e.jsx("img",{src:x,alt:"user preview",className:"mt-[20px] rounded-full w-[100px]"})]}),e.jsxs("div",{className:"flex flex-col m-4 items-start gap-2",children:[e.jsxs("label",{htmlFor:"dob",className:"text-xs",children:["Date of birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{onChange:a,type:"date",required:!0,name:"dob",id:"dob",className:"bg-gray-200 rounded-lg px-2 py-1 border border-gray-500 w-[80%] text-xs text-slate-900"})]}),e.jsx("div",{className:"flex justify-center my-8 pb-4 text-xl",children:e.jsx("button",{type:"submit",className:"dark:bg-slate-900 dark:text-slate-100 text-slate-900 bg-slate-100 rounded-full text-xs px-4 py-2 hover:scale-105 transition-transform",children:"Submit"})})]})})]})})};export{N as default};
