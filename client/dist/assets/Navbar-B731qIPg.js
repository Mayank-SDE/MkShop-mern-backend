import{r as i,j as e,e as N,u as w,A as L,c as y,L as l,s as S,_ as h,l as M,f as C,p as I}from"./index-BGOoP327.js";import{F as H,a as A,b as O}from"./index-DUXrVzM3.js";import{a as g}from"./index-C2IGffIP.js";import{G as f}from"./iconBase-DY2o13lj.js";import{G as R,C as D,a as E}from"./index-CqA4-TEO.js";import{M as F,a as V}from"./index-CVhGOhid.js";import{I as $}from"./index-DeYWllKm.js";function z(s){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256 266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"},child:[]}]})(s)}function G(s){return f({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-432-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16H400v-16zm392 544H232V384h96v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h224v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h96v456z"},child:[]}]})(s)}const P=()=>{const[s,n]=i.useState(localStorage.getItem("theme")?"light":"dark"),a=document.documentElement;i.useEffect(()=>{s==="dark"?(a.classList.add("dark"),localStorage.setItem("theme","dark")):(a.classList.remove("dark"),localStorage.removeItem("theme"))},[s]);const c=()=>{n(s==="dark"?"light":"dark")};return e.jsx(e.Fragment,{children:e.jsx(F,{onClick:()=>c(),className:" text-2xl cursor-pointer w-12"})})},W=[{title:"Home",icon:e.jsx(z,{}),link:"/"},{title:"Cart",icon:e.jsx(A,{}),link:"/cart"},{title:"Login",icon:e.jsx(D,{}),link:"/login"},{title:"Register",icon:e.jsx(O,{}),link:"/register"},{title:"Admin",icon:e.jsx(V,{}),link:"/admin/dashboard"},{title:"Orders",icon:e.jsx(G,{}),link:"/orders"},{title:"Profile",icon:e.jsx($,{}),link:"/profile"},{title:"Logout",icon:e.jsx(E,{}),link:"#"}],Q=()=>{const[s,n]=i.useState(!1),a=N(),c=w(),[j]=L(),[x,m]=i.useState(""),{user:r}=y(t=>t.userReducer),d=r?r.image:"",u=()=>n(!s),k=async()=>{try{const t=await j().unwrap();t.success&&(h.success(t.message),a(M()),a(C()),I.purge().then(o=>{console.log(o),c("/")}).catch(o=>{console.log(o)}))}catch(t){h.error(t.data.message)}},p=W.filter(t=>{if(r){if(t.title==="Login"||t.title==="Register"||r.role==="user"&&t.title==="Admin")return!1}else if(["Logout","Admin","Orders","Profile"].includes(t.title))return!1;return!0}),v=({title:t,icon:o,link:b})=>e.jsxs(l,{to:b,onClick:t==="Logout"?k:void 0,className:"hidden lg:flex items-center py-1 px-4 rounded-full transition-all duration-200 group btn",children:[e.jsx("span",{className:"hidden group-hover:block pr-1",children:t}),e.jsx("span",{className:"text-xl drop-shadow-sm cursor-pointer",children:o})]},t);return e.jsxs("div",{className:"container font-serif duration-200 relative z-40 border-b-2 border-slate-900 dark:border-slate-100",children:[e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"container flex justify-between items-center",children:[e.jsxs(l,{to:"/",className:"font-bold text-2xl sm:text-3xl flex gap-2",children:[e.jsx(H,{className:"w-10"}),"MKShop"]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"group relative hidden lg:block",children:[e.jsx("input",{type:"text",placeholder:"Search",className:"w-[150px] sm:w-[200px] sm:group-hover:w-[300px] transition-all duration-300 rounded-full border px-2 py-1 focus:outline-none dark:text-slate-900 dark:bg-slate-100 bg-slate-900 text-slate-100",onChange:t=>m(t.target.value)}),e.jsx(l,{to:`/search?keyword=${x}`,children:e.jsx(g,{className:"absolute top-1/2 right-3 -translate-y-1/2 cursor-pointer dark:text-slate-900 dark:bg-slate-100 bg-slate-900 text-slate-100 hover:scale-125"})})]}),p.map(t=>e.jsx(v,{...t},t.title)),e.jsx(P,{}),e.jsx(R,{className:"text-2xl lg:hidden cursor-pointer",onClick:u})]})]})}),r&&e.jsxs("p",{className:"flex justify-center items-center py-4 gap-2 tracking-wider font-bold font-serif text-lg",children:[e.jsx("img",{src:d.startsWith("a")?`${S}/${d}`:d,alt:r.username,className:"w-[50px]  rounded-full"}),`Welcome, ${r.username.toUpperCase()}`]}),s&&e.jsxs("div",{className:"flex flex-col lg:hidden",children:[e.jsxs("div",{className:"p-3",children:[e.jsx("input",{type:"text",placeholder:"Search",className:"w-full relative rounded-xl border px-2 py-1 dark:text-slate-900 dark:bg-slate-100 bg-slate-900 text-slate-100 focus:outline-none",onChange:t=>m(t.target.value)}),e.jsx(l,{to:`/search?keyword=${x}`,children:e.jsx(g,{className:"absolute top-[68px] sm:top-[72px] right-8  sm:right-[65px] text-xl cursor-pointer  text-slate-100 dark:text-slate-900 hover:scale-110"})})]}),p.map(t=>e.jsxs(l,{to:t.link,onClick:u,className:"py-4 border rounded-5xl btn flex justify-center items-center cursor-pointer",children:[e.jsx("span",{className:"px-2",children:t.title}),e.jsx("span",{className:"text-xl drop-shadow-sm cursor-pointer",children:t.icon})]},t.title))]})]})};export{Q as default};
